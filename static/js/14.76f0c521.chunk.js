(this.webpackJsonpprouducts=this.webpackJsonpprouducts||[]).push([[14],{122:function(e,t,s){"use strict";s.r(t);var r=s(3),n=s(23),a=s(9),c=s(24),o=s(47),i=s.n(o),l=s(48),u=s(49),j=s.n(u),b=s(25),d=s(0),p=s(2),h=s(15);s(51);t.default=function(e){var t=j.a.create({baseURL:"http://phucnb-django-example.herokuapp.com/api/user/auth/login"}),s=(Object(p.f)(),function(){var s=Object(l.a)(i.a.mark((function s(){return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.post("/",m).then((function(t){var s=t.data.access;"admin"===Object(b.a)(s).role?e.history.push("/admin/user"):e.history.push("/carts"),localStorage.setItem("token",s)})).catch((function(e){console.log(e)}));case 2:s.sent;case 3:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}()),o=Object(d.useState)({username:"",password:""}),u=Object(c.a)(o,2),m=u[0],O=u[1],f=Object(d.useState)(!1),x=Object(c.a)(f,2),g=x[0],v=x[1],w=m.username,k=m.password;function N(e){var t=e.target,s=t.name,r=t.value;O((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(n.a)({},s,r))}))}return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("form",{id:"form-login",className:"form",onSubmit:function(e){e.preventDefault(),v(!0),w&&k&&(O(m),console.log(m),s())},children:[Object(r.jsx)("h2",{children:"Login With Us"}),Object(r.jsxs)("div",{className:"form-control"+(g&&!w?" error":" "),children:[Object(r.jsx)("label",{htmlFor:"username",children:"Username"}),Object(r.jsx)("input",{name:"username",value:w,onChange:N,type:"text",id:"username-login",placeholder:"Enter username"}),Object(r.jsx)("small",{children:"Error username !"})]}),Object(r.jsxs)("div",{className:"form-control"+(g&&!k?" error":" "),children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{name:"password",value:k,onChange:N,type:"password",id:"password-login",placeholder:"Enter password"}),Object(r.jsx)("small",{children:"Error password !"})]}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]}),Object(r.jsxs)("div",{className:"group",children:[Object(r.jsx)(h.b,{to:"/",className:"btn-link",children:"Back"}),Object(r.jsx)(h.b,{to:"/register",className:"btn-link",children:"Register"})]})]})}},51:function(e,t,s){}}]);
//# sourceMappingURL=14.76f0c521.chunk.js.map