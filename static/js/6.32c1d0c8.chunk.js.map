{"version":3,"sources":["app/components/admin/body/_pagination/Pagination.js","app/components/admin/body/_user/USER.js"],"names":["Pagination","props","totalPages","onAddPage","className","map","length","value","key","onClick","item","USER","api","axios","create","baseURL","useState","data","state","setState","edit","setEdit","add","setADD","submitted","setSubmitted","showFormADD","setShowFormADD","showFormEDIT","setShowFormEDIT","currentpage","setCurrentpage","postperpage","setTotalPages","getUser","a","indexofFirstPost","indexofLastPost","get","then","arrPage","Post","slice","console","log","i","Math","ceil","parseInt","push","error","useEffect","createUser","post","deleteUser","id","delete","updateUser","put","handleChange","event","target","name","handleChangeADD","handleCancel","to","undefined","src","avatar","alt","createdAt","handleClickEDIT","page","setTimeout","onSubmit","preventDefault","type","onChange","placeholder","url"],"mappings":"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","file":"static/js/6.32c1d0c8.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React from 'react';\r\nimport '../_pagination/Pagination.scss';\r\nfunction Pagination(props) {\r\n    let { totalPages, onAddPage } = props;\r\n    return (\r\n        <nav className=\"navigation\">\r\n            <ul className=\"pagination\">\r\n                {   \r\n                    totalPages.map.length > 0 ? totalPages.map((value, key) => {\r\n                        return (\r\n                            <li onClick={() => onAddPage(value.item)} className=\"page-item\">\r\n                                <span className=\"page-link\">\r\n                                    {value.item}\r\n                                </span>\r\n                            </li>\r\n                        )\r\n                    }) : null\r\n                }\r\n            </ul>\r\n        </nav>\r\n\r\n    );\r\n}\r\n\r\nexport default Pagination;","\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Pagination from '../_pagination/Pagination';\r\nimport '../scss/HomeAdmin.scss';\r\nfunction USER(props) {\r\n    const api = axios.create({\r\n        baseURL: `https://5fec7ae2595e420017c2be4d.mockapi.io/productjs`\r\n    })\r\n    const [state, setState] = useState({data: []});\r\n    const [edit, setEdit] = useState([]);\r\n    const [add, setADD] = useState([]);\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [showFormADD, setShowFormADD] = useState(false);\r\n    const [showFormEDIT, setShowFormEDIT] = useState(false);\r\n    const [currentpage, setCurrentpage] = useState(1);\r\n    // biến postperpage này như size dị...\r\n    //ví dụ danh sách 10 phần tử cho nó là 2 thì hiển thị danh sách 2 còn 8 phần tử kia phần trang ra 1,2,3,4,5 \r\n    //gồm 5 trang hỏng tin thử đi\r\n    \r\n    //trang có bao nhiêu phần tử.\r\n    const [postperpage, setPostperpage] = useState(5);\r\n    // biến totalPages này để set mảng chứa số trang bị cắt 1 2 3\r\n    \r\n    // số lượng trang.\r\n    const [totalPages, setTotalPages] = useState([]);\r\n    const getUser = async () => {\r\n        //khai báo phần tử cuối\r\n        const indexofLastPost = currentpage * postperpage;\r\n        //khai báo phần tử đầu\r\n        const indexofFirstPost = indexofLastPost - postperpage;\r\n        try {\r\n            let data = await api.get('/').then(({ data }) => data); \r\n            let arrPage = [];\r\n            const Post = data.slice(indexofFirstPost, indexofLastPost);\r\n            //                      1*2 = 2,            ,  2-2 = 0\r\n            // 0,1\r\n            // data => 2-> 8;\r\n            setState({ data: Post });\r\n            console.log(state);\r\n            // cắt danh sách mảng bằng slice phần tử đầu phần tử cuối\r\n            for (let i = 1; i <= Math.ceil(parseInt(data.length) / postperpage); i++) {\r\n                arrPage.push({ item: i });\r\n            }\r\n            // rảnh log mảng arrPage ra xem...\r\n            // số lượng trang - li\r\n            setTotalPages(arrPage);\r\n            //setTotalPages là cái mảng bị cắt rồi đó a e.....\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        getUser();\r\n        if (currentpage) {\r\n            getUser();\r\n        }\r\n    }, [currentpage]);\r\n    const createUser = async () => {\r\n        let res = await api.post('/', add);\r\n        getUser();   \r\n    }\r\n    const deleteUser = async (id) => {\r\n        let data = await api.delete(`/${id}`)\r\n        getUser();\r\n    }\r\n        const updateUser = async (id) => {\r\n        let data = await api.put(`/${id}`, edit);\r\n        getUser();\r\n    }\r\n    function handleClickEDIT(id, value) {\r\n        setShowFormEDIT(true);\r\n        setShowFormADD(false);\r\n        setEdit(value);\r\n    }\r\n    function handleClickADD(event) {\r\n        setShowFormADD(true);\r\n        setShowFormEDIT(false);\r\n    }\r\n    function handleChange(event) {\r\n        const { name, value } = event.target;\r\n        setEdit(edit => ({ ...edit, [name]: value }));\r\n    }\r\n\r\n    function handleChangeADD(event) {\r\n        const { name, value } = event.target;\r\n        setADD(add => ({ ...add, [name]: value }));\r\n    }\r\n    function handleSubmitADD(event) {\r\n        event.preventDefault();\r\n        setSubmitted(!submitted);\r\n        createUser();\r\n    }\r\n    function handleSubmitEDIT(event) {\r\n        event.preventDefault();\r\n        setSubmitted(!submitted);\r\n        setEdit(edit);\r\n        updateUser(edit.id, edit);\r\n    }\r\n    const onAddPage = (page) => {\r\n        setTimeout(function () {\r\n            setCurrentpage(page);\r\n        }, 1000);\r\n    }\r\n    function handleCancel() {\r\n        setSubmitted(false);\r\n        setShowFormADD(false);\r\n        setShowFormEDIT(false);\r\n    }\r\n\r\n    return (\r\n        <section className=\"home-admin\">\r\n            <div className=\"home-left\">\r\n                <Link to=\"/\">Home</Link>\r\n                <Link to=\"/admin/user\">USER</Link>\r\n                <Link to=\"/admin/product\">PRODUCT</Link>\r\n                <Link to=\"/admin/category\">CATEGORY</Link>\r\n            </div>\r\n            <div className=\"home-user home-right\">\r\n                <div className=\"col-12\">\r\n                    <span className=\"btn add\" onClick={handleClickADD}>Thêm tài khoản</span>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                    <div className=\"table\">\r\n                        <table className=\"col-auto\">\r\n                            <thead className=\"title\">\r\n                                <tr>\r\n                                    <th>ID</th>\r\n                                    <th>IMG AVATA</th>\r\n                                    <th>NAME</th>\r\n                                    <th>CREATED</th>\r\n                                    <th>PERFORM</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    ((state.data !== undefined)) ?\r\n                                        state.data.map((value, key) => {\r\n\r\n                                            return (\r\n                                                <tr key={key}>\r\n                                                    <td>{value.id}</td>\r\n                                                    <td><img src={value.avatar} alt={123} /></td>\r\n                                                    <td>{value.name}</td>\r\n                                                    <td>{value.createdAt}</td>\r\n                                                    <td className=\"td-group\">\r\n                                                        <span className=\"btn delete\" onClick={() => deleteUser(value.id)}>Xóa</span>\r\n                                                        <span className=\"btn edit\" onClick={() => handleClickEDIT(value.id, value)}>Sửa</span>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            );\r\n                                        }) : null\r\n                                }\r\n                            </tbody>\r\n\r\n\r\n                        </table>\r\n                        <Pagination onAddPage={onAddPage} totalPages={totalPages} />\r\n                    </div>\r\n                    <div className={\"col-4 form\" + (showFormEDIT || showFormADD ? '' : ' is-invalid')}>\r\n                        <form className={\"form-add show\" + (showFormADD ? ' ' : ' is-invalid')}  onSubmit={handleSubmitADD}>\r\n                            <h2>ADD USER</h2>\r\n                            <input type=\"text\" name=\"id\" value={add.id} onChange={handleChangeADD} placeholder=\"Enter Username\"></input>\r\n                            <input type=\"text\" name=\"url\" value={add.url} onChange={handleChangeADD} placeholder=\"Enter IMG Name\"></input>\r\n                            <input type=\"text\" name=\"name\" value={add.name} onChange={handleChangeADD} placeholder=\"Enter FULL Name\"></input>\r\n                            <input type=\"text\" name=\"createdAt\" value={add.createdAt} onChange={handleChangeADD} placeholder=\"Enter CREATED\"></input>\r\n                            <button className=\"submit\">SUBMIT ADD</button>\r\n                            <button className=\"submit\" onClick={handleCancel}>Cancel</button>\r\n                        </form>\r\n                        <form className={\"form-edit show\" + (showFormEDIT ? ' ' : ' is-invalid')} onSubmit={handleSubmitEDIT}>\r\n                            <h2>EDIT USER</h2>\r\n                            <input type=\"text\" name=\"id\" value={edit.id} onChange={handleChange} placeholder=\"Enter Username\"></input>\r\n                            <input type=\"text\" name=\"url\" value={edit.url} onChange={handleChange} placeholder=\"Enter IMG Name\"></input>\r\n                            <input type=\"text\" name=\"name\" value={edit.name} onChange={handleChange} placeholder=\"Enter FULL Name\"></input>\r\n                            <input type=\"text\" name=\"createdAt\" value={edit.createdAt} onChange={handleChange} placeholder=\"Enter CREATED\"></input>\r\n                            <button className=\"submit\">SUBMIT EDIT</button>\r\n                            <button className=\"submit\" onClick={handleCancel}>Cancel</button>\r\n                        </form>\r\n                    </div>\r\n                </div>  \r\n            </div>\r\n\r\n        </section>\r\n\r\n    );\r\n}\r\n\r\nexport default USER;"],"sourceRoot":""}